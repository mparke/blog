<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://www.linode.com/favicon.ico" type="image/x-icon" />
    <link rel="alternate" title="RSS" href="http://engineering.linode.com/feed.xml">
    <title>
      
      
      API Alpha Label Rollout - Linode Engineering Blog
      
      
    </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/css/blog.css" />
  </head>
  <body>
    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-M3XXZX"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-M3XXZX');</script>
    <!-- End Google Tag Manager -->
    <header class="clearfix">
  <nav id="main-nav" class="container" role="navigation">
    <a class="navbar-brand" href="/">
      <img id="navbar-logo" src="https://www.linode.com/media/images/header/linode-logo.svg"
           width="115" height="45" />
    </a>
    <span class="nav-text nav-title">
      Engineering
    </span>
    <span class="nav-text float-xs-right">
      <a href="https://linode.com/careers">We're hiring!</a>
    </span>
  </nav>
</header>

    <div class="container">
  <div class="row">
    <div class="col-md-3">
      <sidebar>
  <section>
    <h3>Popular posts</h3>
    <div class="recommended"><a href="#">API Alpha Events Rollout</a></div>
  </section>
  <section>
    <h3>Popular tags</h3>
    <div class='tags'><a href='/tags/APIv4'>APIv4 (9)</a></div><div class='tags'><a href='/tags/Manager'>Manager (4)</a></div><div class='tags'><a href='/tags/Python-Flask'>Python/Flask (1)</a></div>
  </section>
</sidebar>

    </div>
    <div class="col-sm-7">
      <article>
        <div class="article-tags">APIv4</div>
        <h1 class="article-title">API Alpha Label Rollout</h1>
        <header class="article-header">
          <span class="article-date">26 Jul 2016</span>, by
          <span class="article-author">William Smith</span>
          <img class="article-avatar" src="https://www.linode.com/media/images/employees/wsmith.png" alt="William Smith" width="25" />
        </header>
        <div class="article-content">
          <p>After two more weeks of brain power and coffee, we have another fresh batch of
updates for the API V4 Alpha!  This time around we’ve put a lot of effort into
rolling out labels for the majority of resources that didn’t use them, as well as
some bug fixes and assorted improvements.  We’ve also laid the foundation for
upcoming features.</p>

<p> </p>

<h2 id="labels-as-identifiers">Labels as Identifiers</h2>

<p>Last time, we introduced labels as the identifier for Datacenters,
Distributions, Services, and Kernels.  This time, we’re leaping forward by rolling
out labels for all Linode and DNS related resources - check it out:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>curl -H <span class="s2">"Authorization: token &lt;my-token&gt;"</span> <span class="se">\</span>
    https://api.alpha.linode.com/v4/linodes/my-webapp
</code></pre>
</div>

<p>For a Linode and its Disks and Configs, the identifier is the “label” attribute
of the resource, so you can set them up on creation:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>curl -X POST <span class="se">\</span>
    -H <span class="s2">"Authorization: token &lt;my-token&gt;"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    https://api.alpha.linode.com/v4/linodes <span class="se">\</span>
    -d <span class="s1">'{"service":"linode2048.5","datacenter":"newark","source":"linode/ubuntu15","label":"new-site"}'</span>
</code></pre>
</div>

<p>and without even looking at the response, you know where to find the new Linode:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>curl -H <span class="s2">"Authorization: token &lt;my-token&gt;"</span> <span class="se">\</span>
    https://api.alpha.linode.com/v4/linodes/new-site
</code></pre>
</div>

<p>DNSZones use their zone as their identifier, so querying them is very intuitive:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>curl -H <span class="s2">"Authorization: token &lt;my-token&gt;"</span> <span class="se">\</span>
    https://api.alpha.linode.com/v4/dnszones/example.org/records
</code></pre>
</div>

<p>The last resources to get labels will be Backups and StackScripts, coming soon.</p>

<h2 id="better-error-messages">Better Error Messages</h2>

<p>Previously, when POSTing or PUTing data, if anything sent in failed validation we
sent back an error message <em>and</em> a field attribute for that error, so you could
easily identify what you sent that didn’t work.  We’ve now improved upon that
with <code class="highlighter-rouge">field_crumbs</code> coming back in relevant errors.  Field crumbs give a full
path to the attribute that didn’t validate if that attribute is nested, making
it much easier to identify and correct problems (or present them to an end
user).</p>

<h2 id="assorted-cleanup">Assorted Cleanup</h2>

<p>We’ve also given the API a cleanup pass, unifying the language of some concepts
(like storage), fixing some visual issues with this blog, and fixing a few bugs
that have come up along the way.</p>

<h2 id="feedback">Feedback</h2>

<p>With the push toward labels nearly complete, we’d love to hear what your
thoughts are on it, as  well as any suggestions you may have.  Please drop by
the <a href="https://webchat.oftc.net/?channels=linode-next&amp;uio=d4">#linode-next channel on OFTC</a>
and let us know what you think, and don’t forget to keep an eye on our
<a href="https://github.com/linode">github</a> for updates to our exciting open source
projects.</p>

<p>Thanks for checking in, next up: NodeBalancers and Networking.</p>

        </div>
      </acticle>
    </div>
  </div>
</div>

    <footer class="container">
      <div class="row">
        <div class="col-md-10 text-xs-right">
          <span class="text-muted">
            &copy; Linode 2016, CC-BY-SA 4.0<br />
            <a href="https://github.com/Linode/blog">
              Source available on GitHub
              <i class="fa fa-github"></i>
            </a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>
